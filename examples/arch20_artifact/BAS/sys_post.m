%% The post function
function xp = sys_post(x, u, w)
    if nargin >= 2

        A = [0.6682, 0.0, 0.02632, 0.0, 0.0, 0.6830, 0.0, 0.02096, 1.0005, 0.0,  -0.000499, 0.0, 0.0, 0.8004, 0.0, 0.1996];
        B = [0.1320, 0.1402, 0.0, 0.0];
        Q = [3.4378, 2.9272, 13.0207, 10.4166];
        
        x0 = x(1);
        x1 = x(2);
        x2 = x(3);
        x3 = x(4);
        u0 = u(1);
        
        xx0 = x0*A(0+1)  + x1*A(1+1)  + x2*A(2+1)  + x3*A(3+1)  + u0*B(0+1) + Q(0+1);
        xx1 = x0*A(4+1)  + x1*A(5+1)  + x2*A(6+1)  + x3*A(7+1)  + u0*B(1+1) + Q(1+1);
        xx2 = x0*A(8+1)  + x1*A(9+1)  + x2*A(10+1) + x3*A(11+1) + u0*B(2+1) + Q(2+1);
        xx3 = x0*A(12+1) + x1*A(13+1) + x2*A(14+1) + x3*A(15+1) + u0*B(3+1) + Q(3+1);
        
        xp = [xx0 xx1 xx2 xx3];

    else
        error('Invalid input !');
    end
end